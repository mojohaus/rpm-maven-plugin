<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-07-26 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Bob Allison" />
    <meta name="Date-Revision-yyyymmdd" content="20150726" />
    <meta http-equiv="Content-Language" content="en" />
    <title>RPM Maven Plugin &#x2013; Maven RPM Plugin - Advanced Parameters</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/mojohaus/mojo-parent">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../../" id="bannerLeft">
                                                                                                <img src="../../images/mojo_logo.png"  alt="MojoHaus"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="../../" title="MojoHaus">
        MojoHaus</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="../../mojo-parent" title="MojoHaus Parent">
        MojoHaus Parent</a>
                    <span class="divider">/</span>
      </li>
                <li class="">
                    <a href="./" title="RPM Maven Plugin">
        RPM Maven Plugin</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Maven RPM Plugin - Advanced Parameters</li>
        
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2015-07-26</li>
              <li id="projectVersion" class="pull-right">
                      <span class="divider">|</span>
                    Version: 2.1.4-SNAPSHOT
        </li>
            
                                    
    <li class="pull-right">
                      <a href="http://maven.apache.org/" class="externalLink" title="Maven">
        Maven</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="plugin-info.html" title="Goals">
          <span class="none"></span>
        Goals</a>
            </li>
                
      <li>
  
                          <a href="usage.html" title="Usage">
          <span class="none"></span>
        Usage</a>
            </li>
                
      <li>
  
                          <a href="faq.html" title="FAQ">
          <span class="none"></span>
        FAQ</a>
            </li>
                                                                                                                        
      <li>
  
                          <a href="pom.html" title="Project Settings">
          <span class="icon-chevron-right"></span>
        Project Settings</a>
                  </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
      <li>
  
                          <a href="params.html" title="Parameters">
          <span class="icon-chevron-down"></span>
        Parameters</a>
                    <ul class="nav nav-list">
                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="ident-params.html" title="Identification Parameters">
          <span class="icon-chevron-down"></span>
        Identification Parameters</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="ident-params.html#name" title="name">
          <span class="none"></span>
        name</a>
            </li>
                    
      <li>
  
                          <a href="ident-params.html#license" title="license">
          <span class="none"></span>
        license</a>
            </li>
                    
      <li>
  
                          <a href="ident-params.html#distribution" title="distribution">
          <span class="none"></span>
        distribution</a>
            </li>
                    
      <li>
  
                          <a href="ident-params.html#group" title="group">
          <span class="none"></span>
        group</a>
            </li>
                    
      <li>
  
                          <a href="ident-params.html#icon" title="icon">
          <span class="none"></span>
        icon</a>
            </li>
                    
      <li>
  
                          <a href="ident-params.html#needarch" title="needarch">
          <span class="none"></span>
        needarch</a>
            </li>
                    
      <li>
  
                          <a href="ident-params.html#packager" title="packager">
          <span class="none"></span>
        packager</a>
            </li>
                    
      <li>
  
                          <a href="ident-params.html#release" title="release**">
          <span class="none"></span>
        release**</a>
            </li>
                    
      <li>
  
                          <a href="ident-params.html#version" title="version">
          <span class="none"></span>
        version</a>
            </li>
                    
      <li>
  
                          <a href="ident-params.html#changelogFile" title="changelogFile">
          <span class="none"></span>
        changelogFile</a>
            </li>
                    
      <li>
  
                          <a href="ident-params.html#repackJars" title="repackJars">
          <span class="none"></span>
        repackJars</a>
            </li>
                    
      <li>
  
                          <a href="ident-params.html#targetOS" title="targetOS">
          <span class="none"></span>
        targetOS</a>
            </li>
                    
      <li>
  
                          <a href="ident-params.html#targetVendor" title="targetVendor">
          <span class="none"></span>
        targetVendor</a>
            </li>
              </ul>
        </li>
                                                                                  
      <li>
  
                          <a href="op-params.html" title="Operation Parameters">
          <span class="icon-chevron-down"></span>
        Operation Parameters</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="op-params.html#workarea" title="workarea">
          <span class="none"></span>
        workarea</a>
            </li>
                    
      <li>
  
                          <a href="op-params.html#defineStatements" title="defineStatements">
          <span class="none"></span>
        defineStatements</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                                                                    
      <li>
  
                          <a href="map-params.html" title="Mapping Parameters">
          <span class="icon-chevron-down"></span>
        Mapping Parameters</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="map-params.html#artifact" title="artifact">
          <span class="none"></span>
        artifact</a>
            </li>
                    
      <li>
  
                          <a href="map-params.html#configuration" title="configuration">
          <span class="none"></span>
        configuration</a>
            </li>
                    
      <li>
  
                          <a href="map-params.html#dependency" title="dependency">
          <span class="none"></span>
        dependency</a>
            </li>
                    
      <li>
  
                          <a href="map-params.html#directory" title="directory**">
          <span class="none"></span>
        directory**</a>
            </li>
                    
      <li>
  
                          <a href="map-params.html#documentation" title="documentation">
          <span class="none"></span>
        documentation</a>
            </li>
                    
      <li>
  
                          <a href="map-params.html#filemode" title="filemode*">
          <span class="none"></span>
        filemode*</a>
            </li>
                    
      <li>
  
                          <a href="map-params.html#groupname" title="groupname*">
          <span class="none"></span>
        groupname*</a>
            </li>
                    
      <li>
  
                          <a href="map-params.html#directoryIncluded" title="directoryIncluded">
          <span class="none"></span>
        directoryIncluded</a>
            </li>
                    
      <li>
  
                          <a href="map-params.html#recurseDirectories" title="recurseDirectories">
          <span class="none"></span>
        recurseDirectories</a>
            </li>
                    
      <li>
  
                          <a href="map-params.html#sources" title="sources">
          <span class="none"></span>
        sources</a>
            </li>
                    
      <li>
  
                          <a href="map-params.html#username" title="username*">
          <span class="none"></span>
        username*</a>
            </li>
              </ul>
        </li>
                                                                                                                                        
      <li>
  
                          <a href="source-params.html" title="Source Parameters">
          <span class="icon-chevron-down"></span>
        Source Parameters</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="source-params.html#location" title="location**">
          <span class="none"></span>
        location**</a>
            </li>
                    
      <li>
  
                          <a href="source-params.html#noDefaultExcludes" title="noDefaultExcludes">
          <span class="none"></span>
        noDefaultExcludes</a>
            </li>
                    
      <li>
  
                          <a href="source-params.html#includes" title="includes">
          <span class="none"></span>
        includes</a>
            </li>
                    
      <li>
  
                          <a href="source-params.html#excludes" title="excludes">
          <span class="none"></span>
        excludes</a>
            </li>
                    
      <li>
  
                          <a href="source-params.html#softlinkSource" title="softlinkSource">
          <span class="none"></span>
        softlinkSource</a>
            </li>
              </ul>
        </li>
                                                                                                                                            
      <li class="active">
  
            <a href="#"><span class="icon-chevron-down"></span>Advanced Parameters</a>
                  <ul class="nav nav-list">
                    
      <li>
  
                          <a href="adv-params.html#Dependency" title="RPM Dependencies">
          <span class="none"></span>
        RPM Dependencies</a>
            </li>
                    
      <li>
  
                          <a href="adv-params.html#Relocation" title="Relocation">
          <span class="none"></span>
        Relocation</a>
            </li>
                    
      <li>
  
                          <a href="adv-params.html#Scripts" title="Scripts">
          <span class="none"></span>
        Scripts</a>
            </li>
                    
      <li>
  
                          <a href="adv-params.html#Triggers" title="Triggers">
          <span class="none"></span>
        Triggers</a>
            </li>
                    
      <li>
  
                          <a href="adv-params.html#Signatures" title="Signatures">
          <span class="none"></span>
        Signatures</a>
            </li>
              </ul>
        </li>
              </ul>
        </li>
                              <li class="nav-header">Examples</li>
                              
      <li>
  
                          <a href="example1.html" title="Sample">
          <span class="none"></span>
        Sample</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                  
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                            <form id="search-form" action="https://www.google.com/search" method="get" >
    
  <input value="www.mojohaus.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="https://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="section">
<h2><a name="Advanced_Parameters"></a>Advanced Parameters</h2>
<p>The parameters described in this page are parameters which enable advanced RPM features. Before using these parameters, it is <b>highly</b> recommended that you read <a class="externalLink" href="http://www.rpm.org/max-rpm/">Maximum RPM</a> to gain an understanding of what these parameters do.</p>
<div class="section">
<h3><a name="RPM_Package_Dependency_Management"></a>RPM Package <a name="Dependency">Dependency</a> Management</h3>
<p><b>These parameters relate to the dependencies between RPM packages, not to the dependencies required to build the RPM package contents.</b></p>
<p>There are three RPM spec file tags related to dependency management:</p>
<ul>
<li><tt>provides</tt> defines a <i>virtual package</i> which is provided by the package being built</li>
<li><tt>requires</tt> identifies a package that is required to be installed for the package being built to operate correctly</li>
<li><tt>conflicts</tt> identifies a package which must not be installed if the package being built is installed</li></ul>
<p>All three of these tags can appear multiple times in the spec file. To configure these tags in the plugin configuration, specify an element for each instance of the tag in the spec file; the content of the element is the exact text to be placed in the spec file. Please be careful to ensure that version comparison specifications such as <tt> &lt; </tt> and <tt> &gt; </tt> are properly specified in the XML file. Here is an example:</p>
<div class="source"><pre class="prettyprint">&lt;provides&gt;
  &lt;provide&gt;dump&lt;/provide&gt;
&lt;/provides&gt;
&lt;requires&gt;
  &lt;require&gt;trash-truck &amp;gt; 1.0&lt;/require&gt;
&lt;/requires&gt;
&lt;conflicts&gt;
  &lt;conflict&gt;incinerator&lt;/conflict&gt;
&lt;/conflicts&gt;
</pre></div></div>
<div class="section">
<h3><a name="Relocation">Relocation</a></h3>
<p>If you specify the <tt>prefix/prefixes</tt> parameter to the RPM plugin, you can create a package that can be installed in a user-specified location. Before doing this, read and understand Maximum RPM <a class="externalLink" href="http://www.rpm.org/max-rpm/ch-rpm-reloc.html">Chapter 15</a> since there are a number of kinks and quirks that must be addressed.</p></div>
<div class="section">
<h3><a name="Scripts">Scripts</a></h3>
<p>There are a number of scripts that can be included in the RPM package which are executed as part of the installation, removal, or verification of the package.</p>
<p>Each of the scripts can be configured as a <a href="./apidocs/org/codehaus/mojo/rpm/Scriptlet.html">Scriptlet</a>, which allows the content of the script to be provided either as a String or File. If both parameters are specified for a script, the external file will be ignored. Before writing scripts for RPM packages, understand the <a class="externalLink" href="http://www.rpm.org/max-rpm/s1-rpm-inside-scripts.html">script docs</a> in Maximum RPM since the operation of the scripts must be done correctly or major problems can occur while installing or removing the package.</p>
<p>Here are examples of passing the content of the script in the pom (using <tt>&lt;script</tt>&gt;) and in a file (using <tt>&lt;scriptFile</tt>&gt;):</p>
<div class="source"><pre class="prettyprint">&lt;prepareScriptlet&gt;
  &lt;script&gt;echo &quot;prepare&quot;&lt;/script&gt;
&lt;/prepareScriptlet&gt;
&lt;preinstallScriptlet&gt;
  &lt;scriptFile&gt;/src/main/bin/preinstall.sh&lt;/scriptFile&gt;
  &lt;fileEncoding&gt;utf-8&lt;/fileEncoding&gt;
&lt;/preinstallScriptlet&gt;
</pre></div>
<div class="section">
<h4><a name="prepareScriptlet"></a><tt>prepareScriptlet</tt></h4>
<p>This script specifies commands to prepare the build. It corresponds to the <tt>%prep</tt> tag in the spec file.</p></div>
<div class="section">
<h4><a name="preinstallScriptlet"></a><tt>preinstallScriptlet</tt></h4>
<p>This script is run before the package is installed. It corresponds to the <tt>%pre</tt> tag in the spec file.</p></div>
<div class="section">
<h4><a name="installScriptlet"></a><tt>installScriptlet</tt></h4>
<p>This script is run as a part of installing the package. It corresponds to the <tt>%install</tt> tag in the spec file.</p></div>
<div class="section">
<h4><a name="postinstallScriptlet"></a><tt>postinstallScriptlet</tt></h4>
<p>This script is run after the package is installed. It corresponds to the <tt>%post</tt> tag in the spec file.</p></div>
<div class="section">
<h4><a name="preremoveScriptlet"></a><tt>preremoveScriptlet</tt></h4>
<p>This script is run before the package is removed. It corresponds to the <tt>%preun</tt> tag in the spec file.</p></div>
<div class="section">
<h4><a name="postremoveScriptlet"></a><tt>postremoveScriptlet</tt></h4>
<p>This script is run after the package is removed. It corresponds to the <tt>%postun</tt> tag in the spec file.</p></div>
<div class="section">
<h4><a name="verifyScriptlet"></a><tt>verifyScriptlet</tt></h4>
<p>This script is run when the package is being verified. It corresponds to the <tt>%verifyScript</tt> tag in the spec file.</p></div>
<div class="section">
<h4><a name="cleanScriptlet"></a><tt>cleanScriptlet</tt></h4>
<p>This script is run after the package is installed to clean up installation files. It corresponds to the <tt>%clean</tt> tag in the spec file.</p></div>
<div class="section">
<h4><a name="pretransScriptlet"></a><tt>pretransScriptlet</tt></h4>
<p>This script is run at the beginning of the transaction. It corresponds to the <tt>%pretrans</tt> tag in the spec file.</p></div>
<div class="section">
<h4><a name="posttransScriptlet"></a><tt>posttransScriptlet</tt></h4>
<p>This script is run at the end of the transaction. It corresponds to the <tt>%posttrans</tt> tag in the spec file.</p></div></div>
<div class="section">
<h3><a name="Triggers">Triggers</a></h3>
<p>Triggers are scripts which can be included in an RPM package to execute based on the action of other packages in a system. Before writing triggers for RPM packages, understand the <a class="externalLink" href="http://rpm.org/api/4.4.2.2/triggers.html">triggers</a> in the RPM documentation since the operation of the scripts must be done correctly or major problems can occur while installing or removing other packages.</p></div>
<div class="section">
<h3><a name="Signatures">Signatures</a></h3>
<p>RPM packages may be signed using GPG or PGP. Currently the plugin only supports generating GPG signatures.</p>
<div class="section">
<h4><a name="keyname"></a><tt>keyname</tt></h4>
<p>This parameter sets the name of the GPG key used to sign the package, and also turns on the signature. Setting this parameter is equivalent to defining the <tt>%_gpg_name</tt> macro and adding the <tt>--sign</tt> option to <tt>rpmbuild</tt>.</p></div>
<div class="section">
<h4><a name="keyPassphrase"></a><tt>keyPassphrase</tt></h4>
<p>This parameter sets the passphrase for the key to sign the rpm. The use of this attribute requires <a class="externalLink" href="http://expect.nist.gov/">expect</a> to be available on the PATH.</p></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2005&#x2013;2015
                        <a href="http://www.mojohaus.org">MojoHaus</a>.
            All rights reserved.      
                    
      </p>
                </div>

        
          
    
    
                
    <div id="ohloh" class="pull-right">
      <script type="text/javascript" src="https://www.ohloh.net/p/5211/widgets/project_thin_badge.js"></script>
    </div>
        </div>
    </footer>
        </body>
</html>